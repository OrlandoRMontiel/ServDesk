<link rel="stylesheet" ng-href="{{session.theme.url}}" > 

<div class="container dashboard-container">    
     

    <!-- Navigation Panel  *********************************************** -->

    <div class="nav column"> 
        <logo size="small"></logo> 
        <div class="navpanel">
            <div ng-click="NavPanel.setCurrentSection($index)" class="item {{$last?'user-section':''}} {{(NavPanel.getCurrentSection()==$index)?'selected':''}}" ng-repeat="n in NavPanel.getSections()">
                <i class="material-icons">{{n.icon}}</i><span>{{n.name}}</span> 
            </div>  
        </div>
    </div>

    <!-- 01. Alert Section  *********************************************** -->

    <div class="body column" ng-show="NavPanel.getCurrentSection()==0"> 
        <div class="item-nav column">
            <search ng-model="session.search"></search>  
            <xselect 
                label="Ordenar por:" 
                options='Alert.filter.options' 
                item-selected="2"
                ng-model="Alert.filter.selected"></xselect>    

            <alert-container  
                current="currentAlert" 
                order-by="Alert.filter.selected.key" 
                filter-by="session.search"></alert-container>                       
        </div>  
        
        <alert-display data="currentAlert"></alert-display> 
    </div>      

    <!-- 02. Requirements Section ****************************************** -->
    
    <div class="item-body column requirement-panel" ng-show="NavPanel.getCurrentSection()==1">  
        <div class="head-data">
            <xinput label="Título" ng-model="Requirement.data.subject" placeholder="Escribe un título"></xinput>
            <xtextarea ng-model="Requirement.data.description" placeholder="Escribe una descripción"></xtextarea>
        </div> 
        <form>     
            <div class="col">
                <xselect label="Activo:" options='options.assetRepository' ng-model="Requirement.data.asset"></xselect>
                <xselect label="Responsable:" options='options.agent' ng-model="Requirement.data.responsable"></xselect>
                <xselect label="Tipo de Caso:" options='options.caseType' ng-model="Requirement.data.caseType"></xselect>
                <xselect label="Status:" options='options.status' ng-model="Requirement.data.status"></xselect>
            </div>
            <div class="col"> 
                <!-- <xselect disabled="true" label="Impacto:" options='options.threatImpact' item-selected='1' ng-model="Requirement.data.impact"></xselect>
                <xselect disabled="true" label="Prioridad:" options='options.priority' item-selected='1' ng-model="Requirement.data.priority"></xselect>
                <xselect disabled="true" label="Urgencia:" options='options.urgency' item-selected='1' ng-model="Requirement.data.urgency"></xselect>  -->
                <xselect label="Agente de amenaza:" options='options.agentThreat' ng-model="Requirement.data.agentThreat"></xselect> 
                <xselect label="Medio de registro:" options='options.registerMedium' ng-model="Requirement.data.registerMedium"></xselect> 
            </div>                  
        </form>   
        <button ng-disabled="Requirement.areFieldsMissing()" ng-click="saveRequirement()">Registrar</button>
    </div> 

     <!-- 03. Reports Section ****************************************** -->

    <div class="item-body column report-panel" ng-show="NavPanel.getCurrentSection()==2"> 
        <h1 class="bold">Reporte</h1>
        <div id="report-graph-wrapper">
            <chart></chart>
        </div>
    </div>   

     <!-- 03. Add Client section ****************************************** -->

    <div class="item-body column new-client-panel" ng-show="NavPanel.getCurrentSection()==3"> 
        <h1 class="bold">Alta de cliente</h1>
        <br>
        <form>            
            <div class="col">
                <xinput label="Nombre(s):" placeholder="Ingresa el nombre" ng-model="Client.data.name"></xinput>  
                <xinput label="Primer apellido:" placeholder="Ingresa el primer apellido" ng-model="Client.data.firstLastname"></xinput>  
                <xinput label="Segundo apellido:" placeholder="Ingresa el segundo apellido" ng-model="Client.data.secondLastname"></xinput>  
                <xinput label="Teléfono Móvil:" placeholder="Ingresa teléfono móvil" ng-model="Client.data.mobilephone"></xinput>  
                <xinput label="Teléfono Fijo:" placeholder="Ingresa teléfono fijo" ng-model="Client.data.phone"></xinput>  
                <xinput label="Email:" placeholder="Ingresa e-mail" ng-model="Client.data.email"></xinput>  
            </div>  
            <div class="col">
                    <xselect label="Puesto:" options='options.job' ng-model="Client.data.job"></xselect>
                    <xselect label="Área:" options='options.area' ng-model="Client.data.area"></xselect>
                    <xselect label="Departamento:" options='options.department' ng-model="Client.data.department"></xselect>
                    <xselect label="Unidad:" options='options.businessUnit' ng-model="Client.data.businessUnit"></xselect>
                </div>   
        </form>
        <br><br>  
        <button ng-disabled="Client.areFieldsMissing()" ng-click="saveClient()">Registrar</button>
    </div>

    <div class="item-body column new-client-panel" ng-show="NavPanel.getCurrentSection()==4"> 
        <h1 class="bold">Alta de agente</h1>
        <br>
        <form>            
            <div class="col">
                <xinput label="Nombre(s):" placeholder="Ingresa el nombre" ng-model="Agent.data.name"></xinput>  
                <xinput label="Primer apellido:" placeholder="Ingresa el primer apellido" ng-model="Agent.data.firstLastname"></xinput>  
                <xinput label="Segundo apellido:" placeholder="Ingresa el segundo apellido" ng-model="Agent.data.secondLastname"></xinput>  
                <xinput label="Direccion:" placeholder="Ingresa direccion" ng-model="Agent.data.address"></xinput>  
                <xinput label="Teléfono Móvil:" placeholder="Ingresa teléfono móvil" ng-model="Agent.data.mobilephone"></xinput>  
                <xinput label="Teléfono Fijo:" placeholder="Ingresa teléfono fijo" ng-model="Agent.data.phone"></xinput>  
                <xinput label="Email:" placeholder="Ingresa e-mail" ng-model="Agent.data.email"></xinput>  
            </div>  
            <div class="col">
                    <!-- <xselect label="Nivel:" options='options.level' ng-model="Agent.data.level"></xselect>  -->
                </div>   
        </form>
        <br><br>  
        <button ng-disabled="Agent.areFieldsMissing()" ng-click="saveAgent()">Registrar</button>
    </div>

     <!-- 05. Configuration ****************************************** -->

    <div class="item-body column new-client-panel" ng-show="NavPanel.getCurrentSection()==5"> 
        <h1 class="bold">Configuración</h1>
        <form>
            <xselect label="Tema:" options='options.theme' item-selected="2" ng-model="session.theme"></xselect>
            {{data.theme.url}}
            <br><br>
            <button ng-click="logout()">Cerrar sesión</button>
        </form>
    </div>

</div>

<xpopup></xpopup>